{% extends 'base.html' %}

{% block title %} Job Listing {% endblock %}

{% block content %}
    <div class="job-search-form">
        <h1>Job Search</h1>
        <form action="{{ url_for('jobs_bp.get_jobs') }}" method="get">
            <div class="form-group">
                <label for="location">Location:</label>
                <input type="text" id="location" name="location" placeholder="Enter location">
            </div>

            <div class="form-group">
                <label for="job_type">Job Type:</label>
                <select id="job_type" name="job_type">
                    <option value="">All</option>
                    <option value="Full-time">Full-Time</option>
                    <option value="Part-time">Part-Time</option>
                    <option value="Contract">Contract</option>
                </select>
            </div>

            <div class="form-group">
                <label for="category">Category:</label>
                <select id="category" name="category">
                    <option value="">All</option>
                    <option value="Tech">Tech</option>
                    <option value="Marketing">Marketing</option>
                    <option value="Finance">Finance</option>
                    <!-- Add more categories as needed -->
                </select>
            </div>

            <button type="submit" class="btn">Search</button>
        </form>
    </div>

    <h2>Job Listings</h2>
    <ul class="job-listing">
        {% for job in jobs %}
            <li class="job-item">
                <h3>{{ job.job_title }}</h3>
                <p><strong>Company Name:</strong> {{ job.company_name }}</p>
                <p><strong>Location:</strong> {{ job.location }}</p>
                <p><strong>Job Type:</strong> {{ job.job_type }}</p>
                <p><strong>Category:</strong> {{ job.category }}</p>
                <p><strong>Description:</strong> {{ job.description }}</p>
                <p><strong>Requirements:</strong> {{ job.requirements }}</p>
                <p><strong>Expiry Date:</strong> {{ job.expire_date }}</p>
                <p><strong>Post Date:</strong> {{ job.post_date }}</p>
                <p><a href="{{ job.application_link }}" target="_blank">Apply Here</a></p>
            </li>
        {% else %}
            <p>No job listings found matching your criteria.</p>
        {% endfor %}
    </ul>
{% endblock %}
